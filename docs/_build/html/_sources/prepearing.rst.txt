Разметка набора данных.
==========================


Установка Установка RemoApp
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

:Важно:
    RemoApp (https://remo.ai/ )- это приложение, в котором будет производиться разметка изображений.

:Важно:
    Приведенная ниже инструкция гарантированно работает для Ubuntu и наиболее верояятно - для прочих Linux-подобных.

Установка производится через командную строку.
Сначала необходимо установить библиотеку:
::

    pip install remo

Затем инициализировать и запустить:
::

    python -m remo_app init
    python -m remo_app

Если установка не удалась, попробуйте:
::

    apt-get update pip install psycopg2==2.8.6

а затем повторите команды выше.

.. _wellmarked:

Обработка изображений
~~~~~~~~~~~~~~~~~~~~~~~~~

Сначала создайте набор данных, нажав кнопку "CREATE DATASET" (рис. 1) в левом верхнем углу окна программы. Если пустое окно набора данных не появилось, нажмите кнопку "Reload" (рис. 2) на вкладке "Вид" на панели инструментов.

.. figure:: pictures/CREATE_DATASET.png
       :scale: 100 %
       :align: center
       :alt: alternate text

       рис.1

.. figure:: pictures/Релоад.png
       :scale: 100 %
       :align: center
       :alt: alternate text

       рис.2

После создания первого набора данных вы можете авторизоваться в Remo. Кнопку, которую нужно нажать для начала авторизации, вы можете найти в левом верхнем углу. Если после авторизации ваш ник не отображается в окне кабинета, нажмите на "Reload" еще раз.

Давайте разметим изображения. Щелкните на пустом наборе данных, который был создан ранее, а затем нажмите "ADD DATA" (рис. 3). На данном этапе у вас еще нет аннотаций, поэтому на следующем шаге выберите "Add image only". Затем, используя открывшееся окно, залейте подготовленные изображения (можно загрузить неархивированную папку).

.. figure:: pictures/ЭДД_Дата.png
       :scale: 100 %
       :align: center
       :alt: alternate text

       рис.3

После загрузки всех изображений вы можете приступить к их аннотированию. Нажмите кнопку "ANNOTATE" (рис. 3) в левом верхнем углу.

Назовите набор данных так, как вы хотите. Введите название датасета в “TYPE THE NAME OF THE ANNOTATION SET” (рис. 4). В разделе "SELECT THE TASK" выберите "Instanse Segmentation" (рис. 4). Вы можете добавить класс ((OPTIONAL) ADD CLASSES) (рис. 4) сейчас или позже, во время самой разметки. Следующий шаг - снова нажать на "ANNOTATE".

.. figure:: pictures/Надо.png
       :scale: 100 %
       :align: center
       :alt: alternate text

       рис.4

Теперь мы можем перейти непосредственно к разметке. В правом верхнем углу выберите инструмент "Draw a polygon" (рис. 5). Теперь обрисуйте объект и замкните контур. Примечание: Избегайте наложения соседних точек и замыкайте цепь только после как минимум трех звеньев. В противном случае приложение выдаст ошибку и перестанет работать (рис. 6).

.. figure:: pictures/Инструмент.png
       :scale: 100 %
       :align: center
       :alt: alternate text

       рис.5

.. figure:: pictures/Ошибка.png
       :scale: 70 %
       :align: center
       :alt: alternate text

       рис.6

Если вы не создали класс при задании параметров аннотации, вы можете создать его в процессе разбиения. После закрытия контура появится окно, в котором нужно выбрать, какой маркер принадлежит выделенной области. Там же будет опция "Новый класс" (рис. 7).

.. figure:: pictures/Ню_класс.png
       :scale: 100 %
       :align: center
       :alt: alternate text

       рис.7

Пример правильно размеченного кадра (рис. 8):

.. figure:: pictures/Правильное.png
       :scale: 100 %
       :align: center
       :alt: alternate text

       рис.8

Экспорт аннотации
~~~~~~~~~~~~~~~~~~~~~
После разметки всех изображений вернитесь на главную страницу (Здесь отображаются все существующие наборы данных). Раскройте меню, нажав на кнопку в левом верхнем углу набора данных, и найдите в списке пункт "Экспортировать аннотацию" (рис. 9). Формат аннотации должен быть "COCO JSON" (рис. 10). В дополнительных опциях снимите флажок с опции "Включать изображения без аннотации" (рис. 10). Загруженный файл будет содержать аннотации для каждого изображения. Назовите этот файл **"Labels"**.

.. figure:: pictures/лабелс.png
       :scale: 60 %
       :align: center
       :alt: alternate text

       рис.9

.. figure:: pictures/настройки.png
       :scale: 100 %
       :align: center
       :alt: alternate text

       рис.10

